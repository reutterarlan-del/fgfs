<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading... - FGFS MEMOIRE</title>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Roboto:wght@300;400;500&family=Noto+Sans+SC:wght@300;400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-deep: #0b1026;
            --glass-bg: rgba(15, 20, 35, 0.85); /* 深色磨砂玻璃 */
            --glass-border: rgba(255, 223, 80, 0.3);
            --text-white: #f0f0f0;      
            --gogh-yellow: #fcd440;     
        }

        /* 顶部阅读进度条 */
        #progress-bar {
            position: fixed; top: 0; left: 0; height: 3px;
            background: var(--gogh-yellow);
            width: 0%; z-index: 1000;
            box-shadow: 0 0 10px var(--gogh-yellow);
            transition: width 0.1s;
        }

        body {
            background-color: var(--bg-deep);
            color: var(--text-white);
            font-family: 'Roboto', 'Noto Sans SC', sans-serif; 
            margin: 0; padding: 0;
            min-height: 100vh;
            background-image: radial-gradient(circle at 50% 30%, #1a254a 0%, #0b1026 70%);
            background-attachment: fixed; /* 背景固定 */
        }
        
        .container {
            max-width: 800px;
            margin: 60px auto 100px; 
            padding: 50px;
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            box-shadow: 0 0 40px rgba(0,0,0,0.6), inset 0 0 20px rgba(255, 255, 255, 0.05);
        }

        /* 顶部导航 */
        .nav-bar { margin-bottom: 40px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 20px; }
        .back-link {
            color: var(--gogh-yellow);
            text-decoration: none;
            font-family: 'Playfair Display', serif;
            font-size: 1.2em;
            transition: all 0.3s;
        }
        .back-link:hover { text-shadow: 0 0 10px var(--gogh-yellow); }

        /* 视频样式 */
        video {
            width: 100%; max-height: 80vh; border-radius: 8px; margin: 30px 0;
            box-shadow: 0 0 20px rgba(0,0,0,0.5); border: 1px solid rgba(255, 223, 80, 0.2);
            background: #000; display: block;
        }

        /* 文章内容样式 */
        #content { line-height: 1.6; font-size: 0.9em; color: #e0e0e0; font-weight: 300; }
        #content h1 { font-family: 'Playfair Display', serif; color: var(--gogh-yellow); font-size: 2.8em; text-align: center; margin-bottom: 30px; text-shadow: 0 0 15px rgba(252, 212, 64, 0.3); }
        #content h2 { color: var(--text-white); margin-top: 50px; border-bottom: 1px solid var(--glass-border); padding-bottom: 10px; }
        #content p { margin-bottom: 20px; text-align: justify; }
        #content img { max-width: 100%; border-radius: 5px; box-shadow: 0 0 20px rgba(0,0,0,0.5); display: block; margin: 30px auto; }
        #content blockquote { border-left: 3px solid var(--gogh-yellow); margin: 20px 0; padding-left: 20px; color: #aaa; font-style: italic; background: rgba(0,0,0,0.2); padding: 10px 20px; border-radius: 0 5px 5px 0; }

/* --- 优化后的回到顶部按钮 --- */
#back-to-top {
    position: fixed;
    bottom: 30px; /* 稍微上移一点，离边缘更近 */
    right: 30px;
    display: flex;
    align-items: center;
    gap: 5px;            /* 缩小星星与文字的间距 */
    padding: 5px 12px;   /* 缩小内边距：上下5px，左右12px */
    background: var(--glass-bg);
    border: none;        /* --- 移除边框 --- */
    border-radius: 15px; /* 缩小圆角半径以匹配更小的尺寸 */
    color: var(--gogh-yellow);
    cursor: pointer;
    z-index: 1001;
    backdrop-filter: blur(8px);
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s ease;
    /* 弱化阴影，让它看起来更轻盈 */
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

#back-to-top.show {
    opacity: 1;
    visibility: visible;
}

#back-to-top:hover {
    /* 悬停时只保留微弱的颜色加深，不改变布局 */
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

#back-to-top span {
    font-size: 0.75em;     /* 稍微大一点点，因为单词短了 */
    letter-spacing: 2px;   /* 增加间距，让 "T O P" 看起来更高级 */
    text-transform: uppercase;
    font-family: 'Playfair Display', serif;
}

#back-to-top svg {
    width: 12px;          /* --- 缩小星星：从 16px 降到 12px --- */
    height: 12px;
    transition: transform 0.4s;
}

#back-to-top:hover svg {
    transform: rotate(90deg);
}

        @media (max-width: 768px) {
            .container { padding: 25px; margin: 0; border-radius: 0; border: none; }
            #content h1 { font-size: 2em; }
            #back-to-top { bottom: 20px; right: 20px; }
        }
    </style>
</head>
<body>

    <div id="progress-bar"></div>

    <div class="container">
        <div class="nav-bar">
            <a href="index.html" class="back-link">Back</a>
        </div>
        
        <div id="content">Loading story...</div>
    </div>

<div id="back-to-top">
    <svg viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 0L14.594 9.406L24 12L14.594 14.594L12 24L9.406 14.594L0 12L9.406 9.406L12 0Z"/>
    </svg>
    <span>TOP</span>
</div>

    <script>
        const btt = document.getElementById("back-to-top");

        // 1. 滚动逻辑
        window.onscroll = function() {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("progress-bar").style.width = scrolled + "%";

            // 滚动超过 300px 显示按钮
            if (winScroll > 300) {
                btt.classList.add("show");
            } else {
                btt.classList.remove("show");
            }
        };

        // 2. 点击回顶
        btt.onclick = function() {
            window.scrollTo({ top: 0, behavior: "smooth" });
        };

        // 3. 加载 Markdown
        const urlParams = new URLSearchParams(window.location.search);
        const fileName = urlParams.get('file');

        if (!fileName) {
            document.getElementById('content').innerHTML = "<p style='color:red'>Error: No file specified.</p>";
        } else {
            fetch(`stories/${fileName}.md?v=${new Date().getTime()}`)
                .then(response => {
                    if (!response.ok) throw new Error("Story not found");
                    return response.text();
                })
                .then(markdownText => {
                    document.getElementById('content').innerHTML = marked.parse(markdownText);
                    document.title = fileName + " - FGFS MEMOIRE";
                })
                .catch(error => {
                    document.getElementById('content').innerHTML = `<p style='text-align:center'>Creating memories...<br><br><small>(${error.message})</small></p>`;
                });
        }
    </script>
</body>
</html>



